<?php
require('./../../vendor/autoload.php');
use thipages\quick\QDb;
use thipages\quick\QSql;
use thipages\sqlitecli\Orders;
use thipages\sqlitecli\SqliteCli;

$dbPath='./test.db';
if (file_exists($dbPath)) unlink($dbPath);

$sql=new QDb(['omnifields'=>[]]);
$def=$sql->create(
    [
        'user'=>[
            'login TEXT #INDEX',
            'pass TEXT #INDEX'
        ],
        'person'=> [
            'lastname TEXT',
            'firstname TEXT',
            'email TEXT',
            'user_id INTEGER NOT NULL #FK_user'
        ],
        'note'=> [
            'note TEXT',
            'user_id INTEGER NOT NULL #FK_user'
        ],
        'upload'=> [
            'image BLOB'
        ]
    ]
);
$cli=new SqliteCli($dbPath);
$cli->execute($def);